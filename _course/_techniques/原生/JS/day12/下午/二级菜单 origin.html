
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>
        body,ul,li{margin:0;padding:0;}
        li{list-style: none;}
         .menu{background:rgb(86, 134, 12);height:38px;line-height:38px;}
         .menu ul li{
            text-align: center;
            float:left;
            width:110px;
            height:38px;line-height:38px;
            border-right:1px solid cyan;
        }
        .menu ul li:hover{background:orangered;}
         .menu ul li a{text-decoration:none;color:#fff;}
         .sub-nav{width:110px;margin-top:10px;background:orange;overflow: hidden;display:none;}
         .sub-nav span{float:left;width:100px;height:30px;line-height:30px;}
         .sub-nav span:hover{background:#335599;color:#fff;cursor: pointer;}
        </style>
    </head>
    <body>
        <div class="menu">
            <ul>
                <li>
                    <a href="##">公司简介</a>
                    <div class="subnav">
                           <span>学习一</span>
                           <span>学习一</span>
                           <span>学习一</span>
                           <span>学习一</span>
                           <span>学习一</span>
                    </div>
                </li>
                <li>
                    <a href="##">公司简介
                        <div class="subnav">
                            <span>学习一</span>
                            <span>学习二</span>
                            <span>学习二</span>
                            <span>学习二</span>
                            <span>学习二</span>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="##">公司简介</a>
                    <div class="subnav">
                        <span>学习三</span>
                        <span>学习三</span>
                        <span>学习三</span>
                        <span>学习三</span>
                        <span>学习三</span>
                    </div>
                </li>
                <li>
                    <a href="##">公司简介</a>
                </li>
                <li>
                    <a href="##">公司简介</a>
                </li>
                <li>
                    <a href="##">公司简介</a>
                </li>
                <li>
                    <a href="##">公司简介</a>
                </li>
            </ul>
        </div>
    </body>
</html>
<script>
    var oMenu = document.querySelector('.menu');
    var oLis = oMenu.querySelectorAll('li');
    var allSubnav = oMenu.querySelectorAll('.sub-nav');
    var tid = null;

    for(let i=0;i<oLis.length;i++){
        oLis[i].onmouseover = function(){
            console.log(this)
             this.querySelector('.sub-nav').style.display='block';
        }
        oLis[i].onmouseout = function(){
            console.log(this)
            tid = setTimeout(function(){
                console.log(this)
                 this.querySelector('.sub-nav').style.display='none';
             },200)

        }
    }

    for(var i=0;i<allSubnav.length;i++){
        // allSubnav[i].onmouseout = function(e){
        //     var evt = e||window.event;
        //      this.style.display = 'none'
        //      evt.cancelBubble = true;

        // }
        // allSubnav[i].onmouseover = function(){
        //      clearInterval(tid)
        // }
        allSubnav[i].onmouseout = function(e){
             var evt = e||window.event;
             this.style.display = 'none';
             evt.cancelBubble = true;
        }
    }
</script>
