<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="button">在控制器生成一注双色球</button>
    <script>
        function randomSSQ(){
                // 随机一注福利彩票双色球 
                /*
                    红球一共6个球，每个球从1-33中抽取一个，六个互相不重复。蓝球是从1-16中抽取一个数字。

                    提示：
                        随机取球用随机数Math.random()
                        6个不能重复，也就是1-33取一个要删除一个，考虑用数组的splice()方法
                        红球需要排序，考虑用数组的sort方法
                        小于10的数字前要加0，考虑将数字转为字符串类型
                */
                
                //01 07 14 20 27 30 + 15

                var redAllArr = []; // 所有的红球
                for(var i = 1; i <= 33; i++){
                    redAllArr.push(i);
                }
                console.log('所有的红球：', redAllArr)

                var redArr = [];//抓取的球
                //第一次， 33个球； redAllArr的length==33；位置 0 - 32；Math.floor(Math.random() * 33)
                //第二次， 32个球； redAllArr的length==32；位置 0 - 31；Math.floor(Math.random() * 32)
                // ...
                //第六次， 28个球； redAllArr的length==28；位置 0 - 27；Math.floor(Math.random() * 28)
                for(var j = 0; j < 6 ; j++){
                    var index =  Math.floor(Math.random() * redAllArr.length);
                    var deleteArr = redAllArr.splice(index, 1); // 抓取的球的集合，长度只有1
                    redArr.push(deleteArr[0])
                }
                console.log('抓取红的集合：',redArr);
                redArr.sort(function(a,b){
                    return a - b; // 正序
                }); // 进行数组排序
                console.log('抓取红的集合，排序后的：',redArr);
            
                // redArr元素小于10的数字前要加0，考虑将数字转为字符串类型
                var redStringArr = []; // 抓取红的集合的元素都转为字符串
                redArr.forEach(function(item, index){ //forEach()是array的循环方法， item表示元素，index是位置
                    var newItem = item < 10 ? '0' + item : item;
                    // 以上三元运算等价，以下if语句
                    // if(item < 10){
                    //     newItem = '0' + item;
                    // }
                    // else{
                    //     newItem = item;
                    // }
                    redStringArr.push(newItem)
                });

                // redStringArr2变量 抓取红的集合的元素都转为字符串
                var redStringArr2 = redArr.map(function(item, index){ //map()是array的循环方法映射，返回与原始数组元素一一对应的新数组， item表示元素，index是位置；
                    return item < 10 ? '0' + item : item;
                })
                console.log('抓取红的集合， 原始值，只做了排序：',redArr);
                console.log('抓取红的集合, 小于10整理后的：',redStringArr, redStringArr2);


                // 蓝球 1-16中一个
                var blueBall = Math.floor(Math.random() * 16) + 1;
                blueBall = blueBall < 10 ? '0' + blueBall : blueBall;

                console.log(redStringArr.join('-') + ' + ' + blueBall);
        }
    
         randomSSQ(); // 函数的调用


         var btnNode = document.querySelector('#button'); // 在文档中，通过选择器查找节点（标签）

         btnNode.onmousedown = randomSSQ; // 由事件onmousedown驱动randomSSQ函数执行
    </script>
</body>
</html>